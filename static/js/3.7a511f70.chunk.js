(this["webpackJsonpmedia-sheet-viewer"]=this["webpackJsonpmedia-sheet-viewer"]||[]).push([[3],{41:function(e,t,r){},42:function(e,t,r){},46:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return u}));var n=r(21),a=r(0),l=r(18);function c(e){var t=e.sort.sortBy===e.field,r=t?e.sort.sortReverse?"\u2191":"\u2193":null;return a.createElement(a.Fragment,null,a.createElement("div",{className:"fieldHeader film-"+e.field},a.createElement("span",{className:"fieldHeaderName"+(t?" active":""),onClick:e.onclick?function(){return e.onclick(e.field)}:null},e.label," ",r)))}var s=r(12);r(41);function i(e){var t=e.film;return a.createElement(a.Fragment,null,a.createElement("div",{className:"filmListItem"},a.createElement("span",{className:"filmTitle"},a.createElement(s.b,{to:"/films/".concat(t.id)},t.title)),a.createElement("span",{className:"filmYear"},t.year),a.createElement("span",{className:"filmDirector"},t.director.map((function(e){return a.createElement("span",{key:e,className:"filmDirectorName"},e)}))),a.createElement("span",{className:"filmGenre"},t.genre.map((function(t){return a.createElement("span",{key:t,className:"filmGenreName",onClick:function(){return e.setSearchField("g:"+t)}},t)}))),a.createElement("span",{className:"filmFranchise"},t.franchise)))}r(42);function o(e){return a.createElement(a.Fragment,null,a.createElement("input",{type:"text",placeholder:"examples: star wars | g:drama | hitchcock | y:2010",value:e.value,onChange:function(t){(t.currentTarget.value.length>=2||0===t.currentTarget.value.length)&&e.setValue(t.currentTarget.value)}}),a.createElement("button",{onClick:function(t){e.setValue("")}},"Clear"))}function u(){var e=a.useContext(l.a),t=a.useState("sortTitle"),r=Object(n.a)(t,2),s=r[0],u=r[1],m=a.useState(!1),f=Object(n.a)(m,2),d=f[0],v=f[1],E=a.useState(""),h=Object(n.a)(E,2),p=h[0],g=h[1],y=a.useState(null),C=Object(n.a)(y,2),N=C[0],k=C[1];document.title="".concat(e.films.length," Films - MediaSheetViewer"),a.useEffect((function(){k(function(){var t=e.filmsSorted;switch(s){case"sortTitle":return d?t.titleDesc:t.titleAsc;case"year":return d?t.yearDesc:t.yearAsc;case"director":return d?t.directorDesc:t.directorAsc;case"franchise":return d?t.franchiseDesc:t.franchiseAsc;default:return e.films}}())}),[s,d,e.films,e.filmsSorted]);var w=function(e){e===s?v(!d):(v(!1),u(e))};if(!N)return null;var b=p.length>2?function(e,t){return t.toLowerCase().startsWith("g:")?e.filter((function(e){return-1!==e.genre.findIndex((function(e){return e.toLowerCase().includes(t.toLowerCase().replace("g:",""))}))})):t.toLowerCase().startsWith("y:")?e.filter((function(e){return e.year.toString()===t.replace("y:","")})):e.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())||-1!==e.director.findIndex((function(e){return e.toLowerCase().includes(t.toLowerCase())}))}))}(N,p):N;return a.createElement(a.Fragment,null,a.createElement("div",{className:"filmHeaderContainer"},a.createElement("div",{className:"searchWrapper"},a.createElement(o,{value:p,setValue:g})),a.createElement("div",{className:"fieldHeadersContainer"},a.createElement(c,{field:"sortTitle",label:"Title",onclick:w,sort:{sortBy:s,sortReverse:d}}),a.createElement(c,{field:"year",label:"Year",onclick:w,sort:{sortBy:s,sortReverse:d}}),a.createElement(c,{field:"director",label:"Director",onclick:w,sort:{sortBy:s,sortReverse:d}}),a.createElement(c,{field:"genre",label:"Genre",sort:{sortBy:s,sortReverse:d}}),a.createElement(c,{field:"franchise",label:"Franchise",onclick:w,sort:{sortBy:s,sortReverse:d}}))),a.createElement("div",{className:"filmBodyContainer"},b.map((function(e){return a.createElement(i,{key:e.id,film:e,setSearchField:g})}))))}}}]);
//# sourceMappingURL=3.7a511f70.chunk.js.map