(this["webpackJsonpmedia-sheet-viewer"]=this["webpackJsonpmedia-sheet-viewer"]||[]).push([[3],{42:function(e,t,r){},43:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(19),a=r(0);r(42);function c(e){var t=e.value,r=e.setValue,c=e.placeholder,l=a.useState(t),i=Object(n.a)(l,2),s=i[0],o=i[1];a.useEffect((function(){o(t)}),[t]),function(e,t,r){var n=Object(a.useCallback)(e,r);Object(a.useEffect)((function(){var e=setTimeout((function(){return n()}),t);return function(){return clearTimeout(e)}}),[n,t])}((function(){r(s)}),500,[s]);return a.createElement(a.Fragment,null,a.createElement("div",null,a.createElement("input",{type:"text",placeholder:c,value:s,onChange:function(e){return o(e.currentTarget.value)}}),a.createElement("button",{onClick:function(){o("")}},"Clear")))}},44:function(e,t,r){},45:function(e,t,r){},54:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return u}));var n=r(19),a=r(0);r(45);function c(e){var t=e.sort.sortBy===e.field,r=t?e.sort.isSortReverse?"\u2191":"\u2193":null;return a.createElement(a.Fragment,null,a.createElement("span",{className:"fheader-outer",style:{width:e.width}},a.createElement("span",{className:"fheader"+(t?" active":"")+(e.onclick?"":" no-click"),onClick:e.onclick?function(){return e.onclick(e.field)}:void 0},e.label," ",r)))}var l=r(43),i=r(20),s=r(11);r(44);function o(e){var t=e.film;return a.createElement(a.Fragment,null,a.createElement("div",{className:"list-items"},a.createElement("span",{className:"film-title"},a.createElement(s.b,{to:"/films/".concat(t.id)},t.title)," (",a.createElement("span",{className:"film-year",onClick:function(){return e.setSearchField("y:"+t.year)}},t.year),")"),a.createElement("span",{className:"film-director"},t.director.map((function(e,t){return a.createElement("span",{key:e},a.createElement("span",null,t>0?" & ":null),a.createElement(s.b,{to:"/directors/".concat(e)},e))}))),a.createElement("span",{className:"film-genre"},t.genre.map((function(t,r){return a.createElement("span",{key:t},a.createElement("span",null,r>0?" / ":null),a.createElement("span",{key:t,className:"genre-name",onClick:function(){return e.setSearchField("g:"+t)}},t))}))),a.createElement("span",{className:"film-franchise"},t.franchise)))}function u(){var e=a.useContext(i.a),t=a.useState("sortTitle"),r=Object(n.a)(t,2),s=r[0],u=r[1],f=a.useState(!1),m=Object(n.a)(f,2),d=m[0],h=m[1],E=a.useState(""),v=Object(n.a)(E,2),p=v[0],y=v[1],w=a.useState(null),b=Object(n.a)(w,2),k=b[0],S=b[1],g=a.useState(null),C=Object(n.a)(g,2),N=C[0],F=C[1];document.title="".concat(e.films.length," Films - MediaSheetViewer"),a.useEffect((function(){S(function(){var t=e.filmsSorted;switch(s){case"sortTitle":return d?t.titleDesc:t.titleAsc;case"year":return d?t.yearDesc:t.yearAsc;case"director":return d?t.directorDesc:t.directorAsc;case"franchise":return d?t.franchiseDesc:t.franchiseAsc;default:return e.films}}())}),[s,d,e.films,e.filmsSorted]),a.useEffect((function(){k&&F(L(k,p))}),[k,p]);var j=function(e){e===s?h(!d):(h(!1),u(e))},L=function(e,t){return t.toLowerCase().startsWith("g:")?e.filter((function(e){return-1!==e.genre.findIndex((function(e){return e.toLowerCase().includes(t.toLowerCase().replace("g:",""))}))})):t.toLowerCase().startsWith("y:")?e.filter((function(e){return e.year.toString()===t.replace("y:","")})):e.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())||-1!==e.director.findIndex((function(e){return e.toLowerCase().includes(t.toLowerCase())}))}))};return N?a.createElement(a.Fragment,null,a.createElement("div",{className:"films"},a.createElement("div",{className:"films-head"},a.createElement(l.a,{value:p,setValue:y,placeholder:"examples: star wars | g:drama | hitchcock | y:2010"}),a.createElement("div",{className:"headers"},a.createElement(c,{field:"sortTitle",label:"Title",width:"20%",sort:{sortBy:s,isSortReverse:d},onclick:j}),a.createElement(c,{field:"year",label:"Year",width:"10%",sort:{sortBy:s,isSortReverse:d},onclick:j}),a.createElement(c,{field:"director",label:"Director",width:"25%",sort:{sortBy:s,isSortReverse:d},onclick:j}),a.createElement(c,{field:"genre",label:"Genre",width:"30%",sort:{sortBy:s,isSortReverse:d}}),a.createElement(c,{field:"franchise",label:"Franchise",width:"15%",sort:{sortBy:s,isSortReverse:d},onclick:j}))),a.createElement("div",{className:"films-body"},N.map((function(e){return a.createElement(o,{key:e.id,film:e,setSearchField:y})}))))):null}}}]);
//# sourceMappingURL=3.0239c26c.chunk.js.map