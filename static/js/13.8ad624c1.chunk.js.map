{"version":3,"sources":["components/Stats/StatsFilms.tsx","components/Stats/config.ts","components/Stats/Infobox.tsx"],"names":["StatsFilms","document","title","className","config","filmGenresPerYearsConfig","large","filmGenresConfig","filmYearsConfig","console","log","stats","type","data","labels","filmGenres","map","e","name","datasets","label","sum","backgroundColor","palette","length","hex","options","text","filmYears","year","pointBackgroundColor","filmGenre","genreIndex","filmYear","genres","findIndex","tooltips","filter","tooltipItem","Number","value","intersect","mode","scales","xAxes","stacked","yAxes","tvGenresConfig","tvGenres","tvYearsConfig","tvYears","tvGenresPerYearsConfig","tvGenre","tvYear","gameGenresConfig","gameGenres","gameYearsConfig","gameYears","gameGenresPerYearsConfig","gameGenre","gameYear","Infobox","canvasRef","React","current","Chart","ref","defaults","global","display","fontSize"],"mappings":"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","file":"static/js/13.8ad624c1.chunk.js","sourcesContent":["import * as React from \"react\";\nimport \"../../styles/color.css\";\nimport {\n  filmGenresConfig,\n  filmGenresPerYearsConfig,\n  filmYearsConfig,\n} from \"./config\";\nimport { Infobox } from \"./Infobox\";\nimport \"./Stats.css\";\n\nexport default function StatsFilms() {\n  document.title = \"Film Stats - MediaSheetViewer\";\n\n  return (\n    <>\n      <div className=\"stats\">\n        <div className=\"stats-head\">\n          <h2 className=\"stats-title\">Stats - Films</h2>\n        </div>\n        <div className=\"stats-body\">\n          <Infobox config={filmGenresPerYearsConfig} large />\n          <Infobox config={filmGenresConfig} />\n          <Infobox config={filmYearsConfig} />\n        </div>\n      </div>\n    </>\n  );\n}\n","import Chart from \"chart.js\";\nimport palette from \"google-palette\";\nimport { stats } from \"../Store/mediaSheet\";\n\nconsole.log(stats);\n\n/* ***********\nFILM\n*********** */\nexport const filmGenresConfig: Chart.ChartConfiguration = {\n  type: \"bar\",\n  data: {\n    labels: stats.filmGenres.map((e) => e.name),\n    datasets: [\n      {\n        label: \"# of films\",\n        data: stats.filmGenres.map((e) => e.sum),\n        backgroundColor: palette(\"tol-rainbow\", stats.filmGenres.length).map(\n          (hex: string) => \"#\" + hex\n        ),\n      },\n    ],\n  },\n  options: {\n    title: {\n      text: \"Genres\",\n    },\n  },\n};\n\nexport const filmYearsConfig: Chart.ChartConfiguration = {\n  type: \"line\",\n  data: {\n    labels: stats.filmYears.map((e) => e.year),\n    datasets: [\n      {\n        label: \"# of films\",\n        data: stats.filmYears.map((e) => e.sum),\n        pointBackgroundColor: palette(\"tol-sq\", stats.filmYears.length).map(\n          (hex: string) => \"#\" + hex\n        ),\n        backgroundColor: \"grey\",\n      },\n    ],\n  },\n  options: {\n    title: {\n      text: \"Years\",\n    },\n  },\n};\n\nexport const filmGenresPerYearsConfig: Chart.ChartConfiguration = {\n  type: \"bar\",\n  data: {\n    labels: stats.filmYears.map((e) => e.year),\n    datasets: stats.filmGenres.map((filmGenre, genreIndex) => ({\n      label: filmGenre.name,\n      data: stats.filmYears.map(\n        (filmYear) =>\n          filmYear.genres[\n            filmYear.genres.findIndex((e) => e.name === filmGenre.name)\n          ].sum\n      ),\n      backgroundColor: palette(\"mpn65\", stats.filmGenres.length).map(\n        (hex: string) => \"#\" + hex\n      )[genreIndex],\n    })),\n  },\n  options: {\n    title: {\n      text: \"Genres per year\",\n    },\n    tooltips: {\n      filter: (tooltipItem) => Number(tooltipItem.value) > 0,\n      intersect: false,\n      mode: \"index\",\n    },\n    scales: {\n      xAxes: [\n        {\n          stacked: true,\n        },\n      ],\n      yAxes: [\n        {\n          stacked: true,\n        },\n      ],\n    },\n  },\n};\n\n/* ***********\nTV\n*********** */\nexport const tvGenresConfig: Chart.ChartConfiguration = {\n  type: \"bar\",\n  data: {\n    labels: stats.tvGenres.map((e) => e.name),\n    datasets: [\n      {\n        label: \"# of series\",\n        data: stats.tvGenres.map((e) => e.sum),\n        backgroundColor: palette(\"tol-rainbow\", stats.tvGenres.length).map(\n          (hex: string) => \"#\" + hex\n        ),\n      },\n    ],\n  },\n  options: {\n    title: {\n      text: \"Genres\",\n    },\n  },\n};\n\nexport const tvYearsConfig: Chart.ChartConfiguration = {\n  type: \"line\",\n  data: {\n    labels: stats.tvYears.map((e) => e.year),\n    datasets: [\n      {\n        label: \"# of series\",\n        data: stats.tvYears.map((e) => e.sum),\n        pointBackgroundColor: palette(\"tol-sq\", stats.tvYears.length).map(\n          (hex: string) => \"#\" + hex\n        ),\n        backgroundColor: \"grey\",\n      },\n    ],\n  },\n  options: {\n    title: {\n      text: \"Years\",\n    },\n  },\n};\n\nexport const tvGenresPerYearsConfig: Chart.ChartConfiguration = {\n  type: \"bar\",\n  data: {\n    labels: stats.tvYears.map((e) => e.year),\n    datasets: stats.tvGenres.map((tvGenre, genreIndex) => ({\n      label: tvGenre.name,\n      data: stats.tvYears.map(\n        (tvYear) =>\n          tvYear.genres[tvYear.genres.findIndex((e) => e.name === tvGenre.name)]\n            .sum\n      ),\n      backgroundColor: palette(\"mpn65\", stats.tvGenres.length).map(\n        (hex: string) => \"#\" + hex\n      )[genreIndex],\n    })),\n  },\n  options: {\n    title: {\n      text: \"Genres per year\",\n    },\n    tooltips: {\n      filter: (tooltipItem) => Number(tooltipItem.value) > 0,\n      intersect: false,\n      mode: \"index\",\n    },\n    scales: {\n      xAxes: [\n        {\n          stacked: true,\n        },\n      ],\n      yAxes: [\n        {\n          stacked: true,\n        },\n      ],\n    },\n  },\n};\n\n/* ***********\nGAME\n*********** */\nexport const gameGenresConfig: Chart.ChartConfiguration = {\n  type: \"doughnut\",\n  data: {\n    labels: stats.gameGenres.map((e) => e.name),\n    datasets: [\n      {\n        label: \"# of games\",\n        data: stats.gameGenres.map((e) => e.sum),\n        backgroundColor: palette(\"tol-rainbow\", stats.gameGenres.length).map(\n          (hex: string) => \"#\" + hex\n        ),\n      },\n    ],\n  },\n  options: {\n    title: {\n      text: \"Genres\",\n    },\n  },\n};\n\nexport const gameYearsConfig: Chart.ChartConfiguration = {\n  type: \"line\",\n  data: {\n    labels: stats.gameYears.map((e) => e.year),\n    datasets: [\n      {\n        label: \"# of games\",\n        data: stats.gameYears.map((e) => e.sum),\n        pointBackgroundColor: palette(\"tol-sq\", stats.gameYears.length).map(\n          (hex: string) => \"#\" + hex\n        ),\n        backgroundColor: \"grey\",\n      },\n    ],\n  },\n  options: {\n    title: {\n      text: \"Years\",\n    },\n  },\n};\n\nexport const gameGenresPerYearsConfig: Chart.ChartConfiguration = {\n  type: \"bar\",\n  data: {\n    labels: stats.gameYears.map((e) => e.year),\n    datasets: stats.gameGenres.map((gameGenre, genreIndex) => ({\n      label: gameGenre.name,\n      data: stats.gameYears.map(\n        (gameYear) =>\n          gameYear.genres[\n            gameYear.genres.findIndex((e) => e.name === gameGenre.name)\n          ].sum\n      ),\n      backgroundColor: palette(\"mpn65\", stats.gameGenres.length).map(\n        (hex: string) => \"#\" + hex\n      )[genreIndex],\n    })),\n  },\n  options: {\n    title: {\n      text: \"Genres per year\",\n    },\n    tooltips: {\n      filter: (tooltipItem) => Number(tooltipItem.value) > 0,\n      intersect: false,\n      mode: \"index\",\n    },\n    scales: {\n      xAxes: [\n        {\n          stacked: true,\n        },\n      ],\n      yAxes: [\n        {\n          stacked: true,\n        },\n      ],\n    },\n  },\n};\n","import Chart from \"chart.js\";\nimport * as React from \"react\";\n\nChart.defaults.global.title!.display = true;\nChart.defaults.global.title!.fontSize = 18;\n\nexport function Infobox({\n  config,\n  large,\n}: {\n  config: Chart.ChartConfiguration;\n  large?: boolean;\n}) {\n  const canvasRef = React.useRef<HTMLCanvasElement>(null);\n  // const [chart, setChart] = React.useState<Chart | null>(null);\n\n  React.useEffect(() => {\n    if (canvasRef.current) {\n      new Chart(canvasRef.current, config);\n      // const newChart = new Chart(canvasRef.current, config);\n      // setChart(newChart);\n    }\n  }, [canvasRef, config]);\n\n  return (\n    <>\n      <div className=\"stats-infobox\">\n        <div className={large ? \"canvas-container-large\" : \"canvas-container\"}>\n          <canvas ref={canvasRef} />\n        </div>\n      </div>\n    </>\n  );\n}\n"],"sourceRoot":""}