(this["webpackJsonpmedia-sheet-viewer"]=this["webpackJsonpmedia-sheet-viewer"]||[]).push([[3],{41:function(e,t,r){},42:function(e,t,r){},46:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return u}));var n=r(19),a=r(0);r(42);function c(e){var t=e.value,r=e.setValue,c=e.placeholder,l=a.useState(t),i=Object(n.a)(l,2),s=i[0],o=i[1];a.useEffect((function(){o(t)}),[t]),function(e,t,r){var n=Object(a.useCallback)(e,r);Object(a.useEffect)((function(){var e=setTimeout((function(){return n()}),t);return function(){return clearTimeout(e)}}),[n,t])}((function(){r(s)}),500,[s]);return a.createElement(a.Fragment,null,a.createElement("input",{type:"text",placeholder:c,value:s,onChange:function(e){return o(e.currentTarget.value)}}),a.createElement("button",{onClick:function(){o("")}},"Clear"))}var l=r(18);function i(e){var t=e.sort.sortBy===e.field,r=t?e.sort.sortReverse?"\u2191":"\u2193":null;return a.createElement(a.Fragment,null,a.createElement("div",{className:"fieldHeader film-"+e.field},a.createElement("span",{className:"fieldHeaderName"+(t?" active":""),onClick:e.onclick?function(){return e.onclick(e.field)}:null},e.label," ",r)))}var s=r(10);r(41);function o(e){var t=e.film;return a.createElement(a.Fragment,null,a.createElement("div",{className:"filmListItem"},a.createElement("span",{className:"filmTitle"},a.createElement(s.b,{to:"/films/".concat(t.id)},t.title)),a.createElement("span",{className:"filmYear",onClick:function(){return e.setSearchField("y:"+t.year)}},t.year),a.createElement("span",{className:"filmDirector"},t.director.map((function(e){return a.createElement(s.b,{key:e,className:"filmDirectorName",to:"/directors/".concat(e)},e)}))),a.createElement("span",{className:"filmGenre"},t.genre.map((function(t){return a.createElement("span",{key:t,className:"filmGenreName",onClick:function(){return e.setSearchField("g:"+t)}},t)}))),a.createElement("span",{className:"filmFranchise"},t.franchise)))}function u(){var e=a.useContext(l.a),t=a.useState("sortTitle"),r=Object(n.a)(t,2),s=r[0],u=r[1],f=a.useState(!1),m=Object(n.a)(f,2),d=m[0],v=m[1],E=a.useState(""),h=Object(n.a)(E,2),p=h[0],y=h[1],b=a.useState(null),C=Object(n.a)(b,2),k=C[0],N=C[1];document.title="".concat(e.films.length," Films - MediaSheetViewer"),a.useEffect((function(){N(function(){var t=e.filmsSorted;switch(s){case"sortTitle":return d?t.titleDesc:t.titleAsc;case"year":return d?t.yearDesc:t.yearAsc;case"director":return d?t.directorDesc:t.directorAsc;case"franchise":return d?t.franchiseDesc:t.franchiseAsc;default:return e.films}}())}),[s,d,e.films,e.filmsSorted]);var g=function(e){e===s?v(!d):(v(!1),u(e))};if(!k)return null;var w=function(e,t){return t.length>=2?function(e,t){return t.toLowerCase().startsWith("g:")?e.filter((function(e){return-1!==e.genre.findIndex((function(e){return e.toLowerCase().includes(t.toLowerCase().replace("g:",""))}))})):t.toLowerCase().startsWith("y:")?e.filter((function(e){return e.year.toString()===t.replace("y:","")})):e.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())||-1!==e.director.findIndex((function(e){return e.toLowerCase().includes(t.toLowerCase())}))}))}(e,t):e}(k,p);return a.createElement(a.Fragment,null,a.createElement("div",{className:"filmHeaderContainer"},a.createElement("div",{className:"searchWrapper"},a.createElement(c,{value:p,setValue:y,placeholder:"examples: star wars | g:drama | hitchcock | y:2010"})),a.createElement("div",{className:"fieldHeadersContainer"},a.createElement(i,{field:"sortTitle",label:"Title",onclick:g,sort:{sortBy:s,sortReverse:d}}),a.createElement(i,{field:"year",label:"Year",onclick:g,sort:{sortBy:s,sortReverse:d}}),a.createElement(i,{field:"director",label:"Director",onclick:g,sort:{sortBy:s,sortReverse:d}}),a.createElement(i,{field:"genre",label:"Genre",sort:{sortBy:s,sortReverse:d}}),a.createElement(i,{field:"franchise",label:"Franchise",onclick:g,sort:{sortBy:s,sortReverse:d}}))),a.createElement("div",{className:"filmBodyContainer"},w.map((function(e){return a.createElement(o,{key:e.id,film:e,setSearchField:y})}))))}}}]);
//# sourceMappingURL=3.915201b0.chunk.js.map