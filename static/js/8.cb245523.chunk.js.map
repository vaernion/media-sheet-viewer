{"version":3,"sources":["components/GamesList/GameListItem.tsx","components/GamesList/index.tsx","components/SearchForm/index.tsx","hooks/useDebounceEffect.ts","utils/filters.ts","components/FieldHeader/index.tsx"],"names":["GameListItem","props","className","index","style","GameListItemMemo","data","setSearchField","React","GameListItemRaw","game","onclick","to","id","name","onClick","year","creator","map","i","genre","completed","system","cellCache","CellMeasurerCache","fixedWidth","defaultHeight","GamesList","dispatch","DispatchContext","state","StateContext","filterGames","searchField","document","title","mediaSheet","games","length","type","payload","handleSort","field","sortGames","gamesSortedLocal","gamesSorted","sortReverseGames","gamesFiltered","rowRenderer","parent","cache","columnIndex","rowIndex","SearchForm","value","setValue","placeholder","FieldHeader","label","width","primary","sort","sortBy","isSortReverse","height","scrollTop","registerChild","onChildScroll","disableHeight","ref","autoHeight","deferredMeasurementCache","onScroll","overscanRowCount","rowCount","rowHeight","setState","callback","delay","dependencies","memoized","useCallback","useEffect","debounce","setTimeout","clearTimeout","useDebounceEffect","htmlFor","onChange","event","currentTarget","filterFilms","films","filterRaw","filter","normalize","startsWith","film","findIndex","includes","replace","toString","director","franchise","translatedTitle","filterTv","tvs","tv","search","Number","seasons","yearStart","yearEnd","sortedGames","developer","active","arrow","tabIndex"],"mappings":"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","file":"static/js/8.cb245523.chunk.js","sourcesContent":["import * as React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Game } from \"../../classes/Game\";\n\ntype RawProps = {\n  data: Game;\n  setSearchField: (field: string) => void;\n};\ninterface Props extends RawProps {\n  index: number;\n  style: React.CSSProperties;\n}\n\nexport const GameListItem = (props: Props) => {\n  return (\n    <div\n      className={`list-items ${props.index % 2 ? \"\" : \"odd-index\"}`}\n      style={props.style}\n    >\n      <GameListItemMemo\n        data={props.data}\n        setSearchField={props.setSearchField}\n      />\n    </div>\n  );\n};\n\nconst GameListItemMemo = React.memo(GameListItemRaw);\n\nfunction GameListItemRaw(props: RawProps) {\n  const game = props.data;\n  const onclick = props.setSearchField;\n\n  return (\n    <>\n      <span className=\"game-title\">\n        <Link to={`/games/${game.id}`}>{game.name}</Link> (\n        <span\n          className=\"game-year on-click\"\n          onClick={() => onclick(\"y:\" + game.year)}\n        >\n          {game.year}\n        </span>\n        )\n      </span>\n      <span className=\"game-developer\">\n        {game.creator.map((name, i) => (\n          <span key={name}>\n            <span>{i > 0 ? \" & \" : null}</span>\n            <Link to={`/creators/${name}`}>{name}</Link>\n          </span>\n        ))}\n      </span>\n      <span className=\"game-genre\">\n        {game.genre.map((name, i) => (\n          <span key={name}>\n            <span>{i > 0 ? \" / \" : null}</span>\n            <span\n              key={name}\n              className=\"genre-name on-click\"\n              onClick={() => onclick(\"g:\" + name)}\n            >\n              {name}\n            </span>\n          </span>\n        ))}\n      </span>\n      <span\n        className=\"game-completed on-click\"\n        onClick={() => onclick(\"c:\" + game.completed)}\n      >\n        {game.completed}\n      </span>\n      <span\n        className=\"game-system on-click\"\n        onClick={() => onclick(game.system)}\n      >\n        {game.system}\n      </span>\n    </>\n  );\n}\n","import * as React from \"react\";\nimport {\n  AutoSizer,\n  CellMeasurer,\n  CellMeasurerCache,\n  List,\n  ListRowRenderer,\n  WindowScroller,\n} from \"react-virtualized\";\nimport \"../../styles/lists.css\";\nimport { filterGames } from \"../../utils/filters\";\nimport { FieldHeader } from \"../FieldHeader\";\nimport { SearchForm } from \"../SearchForm\";\nimport { DispatchContext, StateContext } from \"../Store\";\nimport { mediaSheet } from \"../Store/mediaSheet\";\nimport { GameListItem } from \"./GameListItem\";\n\nconst cellCache = new CellMeasurerCache({\n  fixedWidth: true,\n  defaultHeight: 50,\n});\n\nexport default function GamesList() {\n  const dispatch = React.useContext(DispatchContext);\n  const state = React.useContext(StateContext);\n  const [searchField, setSearchField] = React.useState(state.filterGames);\n\n  document.title = `${mediaSheet.games.length} Games - MediaSheetViewer`;\n\n  // persist filter\n  React.useEffect(() => {\n    dispatch({ type: \"FILTER_GAMES\", payload: searchField });\n  }, [searchField, dispatch]);\n\n  const handleSort = (field: string) => {\n    if (field === state.sortGames) {\n      dispatch({ type: \"SORT_REVERSE_GAMES\" });\n    } else {\n      dispatch({ type: \"SORT_GAMES\", payload: field });\n    }\n  };\n\n  const gamesSortedLocal =\n    mediaSheet.gamesSorted[\n      state.sortGames + (state.sortReverseGames ? \"Desc\" : \"Asc\")\n    ];\n  const gamesFiltered = filterGames(gamesSortedLocal, searchField);\n\n  const rowRenderer: ListRowRenderer = ({ index, style, parent }) => {\n    const data = gamesFiltered[index];\n    return (\n      <CellMeasurer\n        key={data.id}\n        cache={cellCache}\n        parent={parent}\n        columnIndex={0}\n        rowIndex={index}\n      >\n        <GameListItem\n          index={index}\n          data={data}\n          setSearchField={setSearchField}\n          style={style}\n        />\n      </CellMeasurer>\n    );\n  };\n\n  return (\n    <>\n      <div className=\"games\">\n        <div className=\"games-head\">\n          <SearchForm\n            value={searchField}\n            setValue={setSearchField}\n            placeholder=\"deus ex | g:stealth | arkane | y:1998 | c:yes\"\n          />\n          <div className=\"headers\">\n            <FieldHeader\n              field=\"sortTitle\"\n              label=\"Title\"\n              width=\"20%\"\n              primary\n              sort={{\n                sortBy: state.sortGames,\n                isSortReverse: state.sortReverseGames,\n              }}\n              onclick={handleSort}\n            />\n            <FieldHeader\n              field=\"year\"\n              label=\"Year\"\n              width=\"10%\"\n              sort={{\n                sortBy: state.sortGames,\n                isSortReverse: state.sortReverseGames,\n              }}\n              onclick={handleSort}\n            />\n            <FieldHeader\n              field=\"developer\"\n              label=\"Developer\"\n              width=\"25%\"\n              sort={{\n                sortBy: state.sortGames,\n                isSortReverse: state.sortReverseGames,\n              }}\n              onclick={handleSort}\n            />\n            <FieldHeader\n              field=\"genre\"\n              label=\"Genre\"\n              width=\"30%\"\n              sort={{\n                sortBy: state.sortGames,\n                isSortReverse: state.sortReverseGames,\n              }}\n            />\n            <FieldHeader\n              field=\"completed\"\n              label=\"Completed\"\n              width=\"10%\"\n              sort={{\n                sortBy: state.sortGames,\n                isSortReverse: state.sortReverseGames,\n              }}\n              onclick={handleSort}\n            />\n            <FieldHeader\n              field=\"system\"\n              label=\"System\"\n              width=\"10%\"\n              sort={{\n                sortBy: state.sortGames,\n                isSortReverse: state.sortReverseGames,\n              }}\n              onclick={handleSort}\n            />\n          </div>\n        </div>\n        <div className=\"games-body\">\n          <WindowScroller>\n            {({ height, scrollTop, registerChild, onChildScroll }) => (\n              <AutoSizer disableHeight>\n                {({ width }) => (\n                  <div ref={registerChild}>\n                    <List\n                      autoHeight\n                      height={height}\n                      width={width}\n                      deferredMeasurementCache={cellCache}\n                      scrollTop={scrollTop}\n                      onScroll={onChildScroll}\n                      overscanRowCount={50}\n                      rowCount={gamesFiltered.length}\n                      rowHeight={cellCache.rowHeight}\n                      rowRenderer={rowRenderer}\n                    />\n                  </div>\n                )}\n              </AutoSizer>\n            )}\n          </WindowScroller>\n        </div>\n      </div>\n    </>\n  );\n}\n","import * as React from \"react\";\nimport { useDebounceEffect } from \"../../hooks/useDebounceEffect\";\nimport \"./searchForm.css\";\n\ntype Props = {\n  value: string;\n  setValue: (string: string) => void;\n  placeholder: string;\n};\n\n/**\n * Input with onchange and two way handlers to allow\n * parent component to update the value\n * or SearchForm to debounce a setState callback to parent\n * @link https://stackoverflow.com/a/61127960\n * @export\n * @param {*} value Initial value\n * @param {function} delay Milliseconds\n * @param {*[]} dependencies\n */\nexport function SearchForm({ value, setValue, placeholder }: Props) {\n  const [state, setState] = React.useState(value);\n\n  // new value passed by parent\n  React.useEffect(() => {\n    setState(value);\n  }, [value]);\n\n  // debounced callback to parent\n  useDebounceEffect(\n    () => {\n      setValue(state);\n    },\n    500,\n    [state]\n  );\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setState(event.currentTarget.value);\n  };\n\n  const handleClear = () => {\n    setState(\"\");\n  };\n\n  return (\n    <>\n      <div className=\"searchform\">\n        <label className=\"input-label\" htmlFor=\"searchFormInput\">\n          Filter:\n        </label>\n        <input\n          type=\"text\"\n          id=\"searchFormInput\"\n          placeholder={placeholder}\n          value={state}\n          onChange={handleChange}\n        />\n        <button onClick={handleClear}>Clear</button>\n      </div>\n    </>\n  );\n}\n","import { useCallback, useEffect } from \"react\";\n\n/**\n * Fire callback if dependencies change\n * and then stay unchanged for duration of delay.\n * @link https://stackoverflow.com/a/61127960\n * @export\n * @param {function():void} callback\n * @param {number} delay Milliseconds\n * @param {*[]} dependencies\n */\nexport function useDebounceEffect(\n  callback: () => void,\n  delay: number,\n  dependencies: any[]\n): void {\n  const memoized = useCallback(callback, [...dependencies, callback]);\n\n  useEffect(() => {\n    const debounce = setTimeout(() => memoized(), delay);\n\n    return () => clearTimeout(debounce);\n  }, [memoized, delay]);\n}\n","import { Film } from \"../classes/Film\";\nimport { Game } from \"../classes/Game\";\nimport { Television } from \"../classes/Television\";\nimport { normalize } from \"./utilities\";\n\nexport const filterFilms = (films: Film[], filterRaw: string): Film[] => {\n  const filter = normalize(filterRaw);\n\n  if (filter.startsWith(\"g:\")) {\n    return films.filter(\n      (film) =>\n        film.genre.findIndex((genre) =>\n          normalize(genre).includes(filter.replace(\"g:\", \"\"))\n        ) !== -1\n    );\n  } else if (filter.startsWith(\"y:\")) {\n    return films.filter(\n      (film) => film.year.toString() === filter.replace(\"y:\", \"\")\n    );\n  } else {\n    return films.filter(\n      (film) =>\n        normalize(film.name).includes(filter) ||\n        film.creator.findIndex((director) =>\n          normalize(director).includes(filter)\n        ) !== -1 ||\n        normalize(film.franchise).includes(filter) ||\n        normalize(film.translatedTitle).includes(filter)\n    );\n  }\n};\n\nexport const filterTv = (\n  tvs: Television[],\n  filterRaw: string\n): Television[] => {\n  const filter = normalize(filterRaw);\n\n  if (filter.startsWith(\"g:\")) {\n    return tvs.filter(\n      (tv) =>\n        tv.genre.findIndex((genre) =>\n          normalize(genre).includes(filter.replace(\"g:\", \"\"))\n        ) !== -1\n    );\n  } else if (filter.startsWith(\"y:\")) {\n    return tvs.filter((tv) => {\n      const search = Number(filter.replace(\"y:\", \"\"));\n      return (\n        tv.seasons[0].yearStart <= search &&\n        tv.seasons[tv.seasons.length - 1].yearEnd >= search\n      );\n    });\n  } else if (filter.startsWith(\"ys:\")) {\n    return tvs.filter(\n      (tv) => tv.seasons[0].yearStart.toString() === filter.replace(\"ys:\", \"\")\n    );\n  } else if (filter.startsWith(\"ye:\")) {\n    return tvs.filter(\n      (tv) =>\n        tv.seasons[tv.seasons.length - 1].yearEnd.toString() ===\n        filter.replace(\"ye:\", \"\")\n    );\n  } else {\n    return tvs.filter(\n      (tv) =>\n        normalize(tv.name).includes(filter) ||\n        tv.creator.findIndex((creator) =>\n          normalize(creator).includes(filter)\n        ) !== -1\n    );\n  }\n};\n\nexport const filterGames = (sortedGames: Game[], filterRaw: string): Game[] => {\n  const filter = normalize(filterRaw);\n\n  if (filter.startsWith(\"g:\")) {\n    return sortedGames.filter(\n      (game) =>\n        game.genre.findIndex((genre) =>\n          normalize(genre).includes(filter.replace(\"g:\", \"\"))\n        ) !== -1\n    );\n  } else if (filter.startsWith(\"y:\")) {\n    return sortedGames.filter(\n      (game) => game.year.toString() === filter.replace(\"y:\", \"\")\n    );\n  } else if (filter.startsWith(\"c:\")) {\n    return sortedGames.filter((game) =>\n      normalize(game.completed).includes(filter.replace(\"c:\", \"\"))\n    );\n  } else {\n    return sortedGames.filter(\n      (game) =>\n        normalize(game.name).includes(filter) ||\n        game.creator.findIndex((developer) =>\n          normalize(developer).includes(filter)\n        ) !== -1 ||\n        normalize(game.completed).includes(filter) ||\n        normalize(game.system).includes(filter)\n    );\n  }\n};\n","import * as React from \"react\";\nimport \"./FieldHeader.css\";\n\ntype Props = {\n  field: string;\n  label: string;\n  width: string;\n  primary?: boolean;\n  sort: { sortBy: string; isSortReverse: boolean };\n  onclick?: (field: Props[\"field\"]) => void;\n};\n\nexport function FieldHeader(props: Props) {\n  const active = props.sort.sortBy === props.field ? true : false;\n  const arrow = active ? (props.sort.isSortReverse ? \"↑\" : \"↓\") : null;\n\n  const handleClick = () => {\n    if (!props.onclick) return;\n    props.onclick(props.field);\n  };\n\n  return (\n    <>\n      <span\n        className={\"fheader-outer\" + (props.primary ? \" primary\" : \"\")}\n        style={{ width: props.width }}\n      >\n        <span\n          tabIndex={0}\n          className={\n            \"fheader\" +\n            (active ? \" active\" : \"\") +\n            (!props.onclick ? \" no-click\" : \"\")\n          }\n          onClick={handleClick}\n        >\n          {props.label} {arrow}\n        </span>\n      </span>\n    </>\n  );\n}\n"],"sourceRoot":""}