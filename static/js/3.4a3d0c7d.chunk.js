(this["webpackJsonpmedia-sheet-viewer"]=this["webpackJsonpmedia-sheet-viewer"]||[]).push([[3],{41:function(e,t,r){},42:function(e,t,r){},46:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return u}));var n=r(21),a=r(0),c=r(18);function l(e){var t=e.sort.sortBy===e.field?"*":null,r=t?e.sort.sortReverse?"desc":"asc":null;return a.createElement(a.Fragment,null,a.createElement("span",{className:"film-"+e.field+(t?" active":""),onClick:e.onclick?function(){return e.onclick(e.field)}:null},e.label," ",t," ",r))}var s=r(12);r(41);function i(e){var t=e.film;return a.createElement(a.Fragment,null,a.createElement("div",{className:"filmListItem"},a.createElement("span",{className:"filmTitle"},a.createElement(s.b,{to:"films/".concat(t.id)},t.id,"--",t.title)),a.createElement("span",{className:"filmYear"},t.year),a.createElement("span",{className:"filmDirector"},t.director.map((function(e){return a.createElement("span",{key:e,className:"filmDirectorName"},e)}))),a.createElement("span",{className:"filmGenre"},t.genre.map((function(e){return a.createElement("span",{key:e,className:"filmGenreName"},e)}))),a.createElement("span",{className:"filmFranchise"},t.franchise)))}r(42);function o(e){return a.createElement(a.Fragment,null,a.createElement("input",{type:"text",placeholder:"examples: star wars | g:drama | hitchcock | y:2010",onChange:function(t){(t.currentTarget.value.length>=2||0===t.currentTarget.value.length)&&e.onChange(t.currentTarget.value)}}))}function u(){var e=a.useContext(c.a),t=a.useState("sortTitle"),r=Object(n.a)(t,2),s=r[0],u=r[1],m=a.useState(!1),f=Object(n.a)(m,2),d=f[0],h=f[1],E=a.useState(""),p=Object(n.a)(E,2),v=p[0],g=p[1],y=a.useState(null),k=Object(n.a)(y,2),b=k[0],w=k[1];document.title="".concat(e.films.length," Films - MediaSheetViewer"),a.useEffect((function(){w(function(){var t=e.filmsSorted;switch(s){case"sortTitle":return d?t.titleDesc:t.titleAsc;case"year":return d?t.yearDesc:t.yearAsc;case"director":return d?t.directorDesc:t.directorAsc;case"franchise":return d?t.franchiseDesc:t.franchiseAsc;default:return e.films}}())}),[s,d,e.films,e.filmsSorted]);var C=function(e){e===s?h(!d):(h(!1),u(e))};if(!b)return null;var N=v.length>2?function(e,t){return t.toLowerCase().startsWith("g:")?e.filter((function(e){return-1!==e.genre.findIndex((function(e){return e.toLowerCase().includes(t.toLowerCase().replace("g:",""))}))})):t.toLowerCase().startsWith("y:")?e.filter((function(e){return e.year.toString()===t.replace("y:","")})):e.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())||-1!==e.director.findIndex((function(e){return e.toLowerCase().includes(t.toLowerCase())}))}))}(b,v):b;return a.createElement(a.Fragment,null,a.createElement(o,{onChange:g}),"  ","count: ",e.store.count,a.createElement("button",{onClick:function(){return e.dispatch({type:"increment"})}},"+"),a.createElement("button",{onClick:function(){return e.dispatch({type:"decrement"})}},"-"),a.createElement("div",{className:"fieldHeaders"},a.createElement(l,{field:"sortTitle",label:"Title",onclick:C,sort:{sortBy:s,sortReverse:d}}),a.createElement(l,{field:"year",label:"Year",onclick:C,sort:{sortBy:s,sortReverse:d}}),a.createElement(l,{field:"director",label:"Director",onclick:C,sort:{sortBy:s,sortReverse:d}}),a.createElement(l,{field:"genre",label:"Genre",onclick:C,sort:{sortBy:s,sortReverse:d}}),a.createElement(l,{field:"franchise",label:"Franchise",onclick:C,sort:{sortBy:s,sortReverse:d}})),a.createElement("div",null,N.map((function(e){return a.createElement(i,{key:e.id,film:e})}))))}}}]);
//# sourceMappingURL=3.4a3d0c7d.chunk.js.map