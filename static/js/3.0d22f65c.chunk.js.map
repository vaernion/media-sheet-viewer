{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/SearchForm/index.jsx","components/FilmList/FieldHeader.jsx","components/FilmList/FilmListItem.jsx","components/FilmList/index.jsx"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","SearchForm","props","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","setValue","placeholder","React","state","setState","type","onChange","e","currentTarget","onClick","FieldHeader","active","sort","sortBy","field","arrow","sortReverse","className","onclick","label","FilmListItem","film","to","id","title","setSearchField","year","director","map","name","genre","franchise","FilmList","context","MediaContext","setSortBy","setSortReverse","searchField","sortedFilms","setSortedFilms","document","films","filmsSorted","titleDesc","titleAsc","yearDesc","yearAsc","directorDesc","directorAsc","franchiseDesc","franchiseAsc","handleSort","toLowerCase","startsWith","findIndex","includes","replace","toString","filterFilms","decideIfWeSortFilms"],"mappings":"2OAAe,SAASA,EAAgBC,EAAKC,EAAKC,GAYhD,OAXID,KAAOD,EACTG,OAAOC,eAAeJ,EAAKC,EAAK,CAC9BC,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZP,EAAIC,GAAOC,EAGNF,ECVT,SAASQ,EAAQC,EAAQC,GACvB,IAAIC,EAAOR,OAAOQ,KAAKF,GAEvB,GAAIN,OAAOS,sBAAuB,CAChC,IAAIC,EAAUV,OAAOS,sBAAsBH,GACvCC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOZ,OAAOa,yBAAyBP,EAAQM,GAAKV,eAEtDM,EAAKM,KAAKC,MAAMP,EAAME,GAGxB,OAAOF,E,MCVF,SAASQ,EAAWC,GAAQ,IAAD,EDanB,SAAwBC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNd,EAAQL,OAAOsB,IAAS,GAAMC,SAAQ,SAAUzB,GAC9C,EAAeoB,EAAQpB,EAAKwB,EAAOxB,OAE5BE,OAAOwB,0BAChBxB,OAAOyB,iBAAiBP,EAAQlB,OAAOwB,0BAA0BF,IAEjEjB,EAAQL,OAAOsB,IAASC,SAAQ,SAAUzB,GACxCE,OAAOC,eAAeiB,EAAQpB,EAAKE,OAAOa,yBAAyBS,EAAQxB,OAKjF,OAAOoB,EC9ByB,IACcD,GAAtClB,EADwB,EACxBA,MAAO2B,EADiB,EACjBA,SAAUC,EADO,EACPA,YADO,EAENC,WAAe,IAFT,mBAEzBC,EAFyB,KAElBC,EAFkB,KAIhCF,aAAgB,WACdE,EAAS/B,KACR,CAACA,IAEJ6B,aAAgB,YACVC,EAAMR,QAAU,GAAsB,IAAjBQ,EAAMR,SAC7BK,EAASG,KAEV,CAACA,EAAOH,IAUX,OACE,gCACE,yBACEK,KAAK,OACLJ,YAAaA,EACb5B,MAAO8B,EACPG,SAde,SAACC,GACpBH,EAASG,EAAEC,cAAcnC,UAevB,0BAAQoC,QAZQ,WAClBL,EAAS,MAWP,U,YC/BC,SAASM,EAAYnB,GAC1B,IAAIoB,EAASpB,EAAMqB,KAAKC,SAAWtB,EAAMuB,MACrCC,EAAQJ,EAAUpB,EAAMqB,KAAKI,YAAc,SAAM,SAAO,KAE5D,OACE,gCACE,uBAAKC,UAAW,oBAAsB1B,EAAMuB,OAC1C,wBACEG,UAAW,mBAAqBN,EAAS,UAAY,IACrDF,QAASlB,EAAM2B,QAAU,kBAAM3B,EAAM2B,QAAQ3B,EAAMuB,QAAS,MAE3DvB,EAAM4B,MAJT,IAIiBJ,K,kBCTlB,SAASK,EAAa7B,GAC3B,IAAM8B,EAAO9B,EAAM8B,KAEnB,OACE,gCACE,uBAAKJ,UAAU,gBACb,wBAAMA,UAAU,aACd,gBAAC,IAAD,CAAMK,GAAE,iBAAYD,EAAKE,KAEtBF,EAAKG,QAGV,wBACEP,UAAU,WACVR,QAAS,kBAAMlB,EAAMkC,eAAe,KAAOJ,EAAKK,QAE/CL,EAAKK,MAER,wBAAMT,UAAU,gBACbI,EAAKM,SAASC,KAAI,SAACC,GAAD,OACjB,gBAAC,IAAD,CACEzD,IAAKyD,EACLZ,UAAU,mBACVK,GAAE,qBAAgBO,IAEjBA,OAIP,wBAAMZ,UAAU,aACbI,EAAKS,MAAMF,KAAI,SAACC,GAAD,OACd,wBACEzD,IAAKyD,EACLZ,UAAU,gBACVR,QAAS,kBAAMlB,EAAMkC,eAAe,KAAOI,KAE1CA,OAIP,wBAAMZ,UAAU,iBAAiBI,EAAKU,aCrC/B,SAASC,IACtB,IAAMC,EAAU/B,aAAiBgC,KADA,EAGLhC,WAAe,aAHV,mBAG1BW,EAH0B,KAGlBsB,EAHkB,OAIKjC,YAAe,GAJpB,mBAI1Bc,EAJ0B,KAIboB,EAJa,OAKKlC,WAAe,IALpB,mBAK1BmC,EAL0B,KAKbZ,EALa,OAMKvB,WAAe,MANpB,mBAM1BoC,EAN0B,KAMbC,EANa,KAQjCC,SAAShB,MAAT,UAAoBS,EAAQQ,MAAM9C,OAAlC,6BAGAO,aAAgB,WACdqC,EACG,WACC,IAAMpE,EAAM8D,EAAQS,YACpB,OAAQ7B,GACN,IAAK,YACH,OAAOG,EAAc7C,EAAIwE,UAAYxE,EAAIyE,SAC3C,IAAK,OACH,OAAO5B,EAAc7C,EAAI0E,SAAW1E,EAAI2E,QAC1C,IAAK,WACH,OAAO9B,EAAc7C,EAAI4E,aAAe5E,EAAI6E,YAC9C,IAAK,YACH,OAAOhC,EAAc7C,EAAI8E,cAAgB9E,EAAI+E,aAC/C,QACE,OAAOjB,EAAQQ,OAZpB,MAgBF,CAAC5B,EAAQG,EAAaiB,EAAQQ,MAAOR,EAAQS,cAEhD,IAAMS,EAAa,SAACrC,GACdA,IAAUD,EACZuB,GAAgBpB,IAEhBoB,GAAe,GACfD,EAAUrB,KAuCd,IAAKwB,EAAa,OAAO,KACzB,IAAMG,EAVsB,SAACH,EAAaD,GACxC,OAAIA,EAAY1C,QAAU,EA3BR,SAAC2C,EAAaD,GAChC,OAAIA,EAAYe,cAAcC,WAAW,MAChCf,EAAYrD,QACjB,SAACoC,GAAD,OAKS,IAJPA,EAAKS,MAAMwB,WAAU,SAACxB,GAAD,OACnBA,EACGsB,cACAG,SAASlB,EAAYe,cAAcI,QAAQ,KAAM,WAGjDnB,EAAYe,cAAcC,WAAW,MACvCf,EAAYrD,QACjB,SAACoC,GAAD,OAAUA,EAAKK,KAAK+B,aAAepB,EAAYmB,QAAQ,KAAM,OAGxDlB,EAAYrD,QACjB,SAACoC,GAAD,OACEA,EAAKG,MAAM4B,cAAcG,SAASlB,EAAYe,iBAGvC,IAFP/B,EAAKM,SAAS2B,WAAU,SAAC3B,GAAD,OACtBA,EAASyB,cAAcG,SAASlB,EAAYe,qBAU3CM,CAAYpB,EAAaD,GAEzBC,EAKGqB,CAAoBrB,EAAaD,GAE/C,OACE,gCACE,uBAAKpB,UAAU,uBACb,uBAAKA,UAAU,iBACb,gBAAC3B,EAAD,CACEjB,MAAOgE,EACPrC,SAAUyB,EACVxB,YAAY,wDAGhB,uBAAKgB,UAAU,yBACb,gBAACP,EAAD,CACEI,MAAM,YACNK,MAAM,QACND,QAASiC,EACTvC,KAAM,CAAEC,SAAQG,iBAElB,gBAACN,EAAD,CACEI,MAAM,OACNK,MAAM,OACND,QAASiC,EACTvC,KAAM,CAAEC,SAAQG,iBAElB,gBAACN,EAAD,CACEI,MAAM,WACNK,MAAM,WACND,QAASiC,EACTvC,KAAM,CAAEC,SAAQG,iBAElB,gBAACN,EAAD,CACEI,MAAM,QACNK,MAAM,QACNP,KAAM,CAAEC,SAAQG,iBAElB,gBAACN,EAAD,CACEI,MAAM,YACNK,MAAM,YACND,QAASiC,EACTvC,KAAM,CAAEC,SAAQG,mBAItB,uBAAKC,UAAU,qBACZwB,EAEEb,KAAI,SAACP,GAAD,OACH,gBAACD,EAAD,CACEhD,IAAKiD,EAAKE,GACVF,KAAMA,EACNI,eAAgBA","file":"static/js/3.0d22f65c.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import * as React from \"react\";\nimport \"./searchForm.css\";\n\nexport function SearchForm(props) {\n  const { value, setValue, placeholder } = { ...props };\n  const [state, setState] = React.useState(\"\");\n\n  React.useEffect(() => {\n    setState(value);\n  }, [value]);\n\n  React.useEffect(() => {\n    if (state.length >= 2 || state.length === 0) {\n      setValue(state);\n    }\n  }, [state, setValue]);\n\n  const handleChange = (e) => {\n    setState(e.currentTarget.value);\n  };\n\n  const handleClear = () => {\n    setState(\"\");\n  };\n\n  return (\n    <>\n      <input\n        type=\"text\"\n        placeholder={placeholder}\n        value={state}\n        onChange={handleChange}\n      />\n      <button onClick={handleClear}>Clear</button>\n    </>\n  );\n}\n","import * as React from \"react\";\n\nexport function FieldHeader(props) {\n  let active = props.sort.sortBy === props.field ? true : false;\n  let arrow = active ? (props.sort.sortReverse ? \"↑\" : \"↓\") : null;\n\n  return (\n    <>\n      <div className={\"fieldHeader film-\" + props.field}>\n        <span\n          className={\"fieldHeaderName\" + (active ? \" active\" : \"\")}\n          onClick={props.onclick ? () => props.onclick(props.field) : null}\n        >\n          {props.label} {arrow}\n        </span>\n      </div>\n    </>\n  );\n}\n","import * as React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./filmsList.css\";\n\nexport function FilmListItem(props) {\n  const film = props.film;\n\n  return (\n    <>\n      <div className=\"filmListItem\">\n        <span className=\"filmTitle\">\n          <Link to={`/films/${film.id}`}>\n            {/* {film.id}-- */}\n            {film.title}\n          </Link>\n        </span>\n        <span\n          className=\"filmYear\"\n          onClick={() => props.setSearchField(\"y:\" + film.year)}\n        >\n          {film.year}\n        </span>\n        <span className=\"filmDirector\">\n          {film.director.map((name) => (\n            <Link\n              key={name}\n              className=\"filmDirectorName\"\n              to={`/directors/${name}`}\n            >\n              {name}\n            </Link>\n          ))}\n        </span>\n        <span className=\"filmGenre\">\n          {film.genre.map((name) => (\n            <span\n              key={name}\n              className=\"filmGenreName\"\n              onClick={() => props.setSearchField(\"g:\" + name)}\n            >\n              {name}\n            </span>\n          ))}\n        </span>\n        <span className=\"filmFranchise\">{film.franchise}</span>\n      </div>\n    </>\n  );\n}\n","import * as React from \"react\";\nimport { SearchForm } from \"../SearchForm\";\nimport { MediaContext } from \"../Store\";\nimport { FieldHeader } from \"./FieldHeader\";\nimport { FilmListItem } from \"./FilmListItem\";\nimport \"./filmsList.css\";\n\nexport default function FilmList() {\n  const context = React.useContext(MediaContext);\n\n  const [sortBy, setSortBy] = React.useState(\"sortTitle\");\n  const [sortReverse, setSortReverse] = React.useState(false);\n  const [searchField, setSearchField] = React.useState(\"\");\n  const [sortedFilms, setSortedFilms] = React.useState(null);\n\n  document.title = `${context.films.length} Films - MediaSheetViewer`;\n\n  // keep current sorted array in state for efficiency\n  React.useEffect(() => {\n    setSortedFilms(\n      (() => {\n        const obj = context.filmsSorted;\n        switch (sortBy) {\n          case \"sortTitle\":\n            return sortReverse ? obj.titleDesc : obj.titleAsc;\n          case \"year\":\n            return sortReverse ? obj.yearDesc : obj.yearAsc;\n          case \"director\":\n            return sortReverse ? obj.directorDesc : obj.directorAsc;\n          case \"franchise\":\n            return sortReverse ? obj.franchiseDesc : obj.franchiseAsc;\n          default:\n            return context.films;\n        }\n      })()\n    );\n  }, [sortBy, sortReverse, context.films, context.filmsSorted]);\n\n  const handleSort = (field) => {\n    if (field === sortBy) {\n      setSortReverse(!sortReverse);\n    } else {\n      setSortReverse(false);\n      setSortBy(field);\n    }\n  };\n\n  const filterFilms = (sortedFilms, searchField) => {\n    if (searchField.toLowerCase().startsWith(\"g:\")) {\n      return sortedFilms.filter(\n        (film) =>\n          film.genre.findIndex((genre) =>\n            genre\n              .toLowerCase()\n              .includes(searchField.toLowerCase().replace(\"g:\", \"\"))\n          ) !== -1\n      );\n    } else if (searchField.toLowerCase().startsWith(\"y:\")) {\n      return sortedFilms.filter(\n        (film) => film.year.toString() === searchField.replace(\"y:\", \"\")\n      );\n    } else {\n      return sortedFilms.filter(\n        (film) =>\n          film.title.toLowerCase().includes(searchField.toLowerCase()) ||\n          film.director.findIndex((director) =>\n            director.toLowerCase().includes(searchField.toLowerCase())\n          ) !== -1\n      );\n    }\n  };\n\n  // slight optimization\n  const decideIfWeSortFilms = (sortedFilms, searchField) => {\n    if (searchField.length >= 2) {\n      // if (true) {\n      return filterFilms(sortedFilms, searchField);\n    } else {\n      return sortedFilms;\n    }\n  };\n\n  if (!sortedFilms) return null;\n  const films = decideIfWeSortFilms(sortedFilms, searchField);\n\n  return (\n    <>\n      <div className=\"filmHeaderContainer\">\n        <div className=\"searchWrapper\">\n          <SearchForm\n            value={searchField}\n            setValue={setSearchField}\n            placeholder=\"examples: star wars | g:drama | hitchcock | y:2010\"\n          />\n        </div>\n        <div className=\"fieldHeadersContainer\">\n          <FieldHeader\n            field=\"sortTitle\"\n            label=\"Title\"\n            onclick={handleSort}\n            sort={{ sortBy, sortReverse }}\n          />\n          <FieldHeader\n            field=\"year\"\n            label=\"Year\"\n            onclick={handleSort}\n            sort={{ sortBy, sortReverse }}\n          />\n          <FieldHeader\n            field=\"director\"\n            label=\"Director\"\n            onclick={handleSort}\n            sort={{ sortBy, sortReverse }}\n          />\n          <FieldHeader\n            field=\"genre\"\n            label=\"Genre\"\n            sort={{ sortBy, sortReverse }}\n          />\n          <FieldHeader\n            field=\"franchise\"\n            label=\"Franchise\"\n            onclick={handleSort}\n            sort={{ sortBy, sortReverse }}\n          />\n        </div>\n      </div>\n      <div className=\"filmBodyContainer\">\n        {films\n          // .filter((e) => e.id > 800 && e.id < 1000)\n          .map((film) => (\n            <FilmListItem\n              key={film.id}\n              film={film}\n              setSearchField={setSearchField}\n            />\n          ))}\n      </div>\n    </>\n  );\n}\n"],"sourceRoot":""}