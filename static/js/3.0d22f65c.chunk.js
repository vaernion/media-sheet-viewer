(this["webpackJsonpmedia-sheet-viewer"]=this["webpackJsonpmedia-sheet-viewer"]||[]).push([[3],{41:function(e,t,r){},42:function(e,t,r){},46:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return m}));var n=r(19),a=r(0);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}r(42);function i(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e),r=t.value,i=t.setValue,s=t.placeholder,o=a.useState(""),u=Object(n.a)(o,2),f=u[0],m=u[1];a.useEffect((function(){m(r)}),[r]),a.useEffect((function(){(f.length>=2||0===f.length)&&i(f)}),[f,i]);return a.createElement(a.Fragment,null,a.createElement("input",{type:"text",placeholder:s,value:f,onChange:function(e){m(e.currentTarget.value)}}),a.createElement("button",{onClick:function(){m("")}},"Clear"))}var s=r(18);function o(e){var t=e.sort.sortBy===e.field,r=t?e.sort.sortReverse?"\u2191":"\u2193":null;return a.createElement(a.Fragment,null,a.createElement("div",{className:"fieldHeader film-"+e.field},a.createElement("span",{className:"fieldHeaderName"+(t?" active":""),onClick:e.onclick?function(){return e.onclick(e.field)}:null},e.label," ",r)))}var u=r(10);r(41);function f(e){var t=e.film;return a.createElement(a.Fragment,null,a.createElement("div",{className:"filmListItem"},a.createElement("span",{className:"filmTitle"},a.createElement(u.b,{to:"/films/".concat(t.id)},t.title)),a.createElement("span",{className:"filmYear",onClick:function(){return e.setSearchField("y:"+t.year)}},t.year),a.createElement("span",{className:"filmDirector"},t.director.map((function(e){return a.createElement(u.b,{key:e,className:"filmDirectorName",to:"/directors/".concat(e)},e)}))),a.createElement("span",{className:"filmGenre"},t.genre.map((function(t){return a.createElement("span",{key:t,className:"filmGenreName",onClick:function(){return e.setSearchField("g:"+t)}},t)}))),a.createElement("span",{className:"filmFranchise"},t.franchise)))}function m(){var e=a.useContext(s.a),t=a.useState("sortTitle"),r=Object(n.a)(t,2),c=r[0],l=r[1],u=a.useState(!1),m=Object(n.a)(u,2),d=m[0],p=m[1],b=a.useState(""),h=Object(n.a)(b,2),v=h[0],y=h[1],E=a.useState(null),g=Object(n.a)(E,2),O=g[0],w=g[1];document.title="".concat(e.films.length," Films - MediaSheetViewer"),a.useEffect((function(){w(function(){var t=e.filmsSorted;switch(c){case"sortTitle":return d?t.titleDesc:t.titleAsc;case"year":return d?t.yearDesc:t.yearAsc;case"director":return d?t.directorDesc:t.directorAsc;case"franchise":return d?t.franchiseDesc:t.franchiseAsc;default:return e.films}}())}),[c,d,e.films,e.filmsSorted]);var C=function(e){e===c?p(!d):(p(!1),l(e))};if(!O)return null;var j=function(e,t){return t.length>=2?function(e,t){return t.toLowerCase().startsWith("g:")?e.filter((function(e){return-1!==e.genre.findIndex((function(e){return e.toLowerCase().includes(t.toLowerCase().replace("g:",""))}))})):t.toLowerCase().startsWith("y:")?e.filter((function(e){return e.year.toString()===t.replace("y:","")})):e.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())||-1!==e.director.findIndex((function(e){return e.toLowerCase().includes(t.toLowerCase())}))}))}(e,t):e}(O,v);return a.createElement(a.Fragment,null,a.createElement("div",{className:"filmHeaderContainer"},a.createElement("div",{className:"searchWrapper"},a.createElement(i,{value:v,setValue:y,placeholder:"examples: star wars | g:drama | hitchcock | y:2010"})),a.createElement("div",{className:"fieldHeadersContainer"},a.createElement(o,{field:"sortTitle",label:"Title",onclick:C,sort:{sortBy:c,sortReverse:d}}),a.createElement(o,{field:"year",label:"Year",onclick:C,sort:{sortBy:c,sortReverse:d}}),a.createElement(o,{field:"director",label:"Director",onclick:C,sort:{sortBy:c,sortReverse:d}}),a.createElement(o,{field:"genre",label:"Genre",sort:{sortBy:c,sortReverse:d}}),a.createElement(o,{field:"franchise",label:"Franchise",onclick:C,sort:{sortBy:c,sortReverse:d}}))),a.createElement("div",{className:"filmBodyContainer"},j.map((function(e){return a.createElement(f,{key:e.id,film:e,setSearchField:y})}))))}}}]);
//# sourceMappingURL=3.0d22f65c.chunk.js.map