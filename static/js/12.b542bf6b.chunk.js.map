{"version":3,"sources":["components/Stats/config.ts","components/Stats/Infobox.tsx","components/Stats/StatsFilms.tsx"],"names":["filmGenresConfig","type","data","labels","stats","filmGenres","map","e","name","datasets","label","sum","backgroundColor","palette","length","hex","options","title","text","filmYearsConfig","filmYears","year","pointBackgroundColor","filmGenresPerYearsConfig","filmGenre","genreIndex","filmYear","genres","findIndex","tooltips","filter","tooltipItem","Number","value","intersect","mode","scales","xAxes","stacked","yAxes","tvGenresConfig","tvGenres","tvYearsConfig","tvYears","tvGenresPerYearsConfig","tvGenre","tvYear","gameGenresConfig","gameGenres","gameYearsConfig","gameYears","gameGenresPerYearsConfig","gameGenre","gameYear","Infobox","config","large","canvasRef","React","current","Chart","className","ref","defaults","global","display","fontSize","StatsFilms","document"],"mappings":"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","file":"static/js/12.b542bf6b.chunk.js","sourcesContent":["import Chart from \"chart.js\";\nimport palette from \"google-palette\";\nimport { stats } from \"../Store/mediaSheet\";\n\n/* ***********\nFILM\n*********** */\nexport const filmGenresConfig: Chart.ChartConfiguration = {\n  type: \"bar\",\n  data: {\n    labels: stats.filmGenres.map((e) => e.name),\n    datasets: [\n      {\n        label: \"# of films\",\n        data: stats.filmGenres.map((e) => e.sum),\n        backgroundColor: palette(\"tol-rainbow\", stats.filmGenres.length).map(\n          (hex: string) => \"#\" + hex\n        ),\n      },\n    ],\n  },\n  options: {\n    title: {\n      text: \"Genres\",\n    },\n  },\n};\n\nexport const filmYearsConfig: Chart.ChartConfiguration = {\n  type: \"line\",\n  data: {\n    labels: stats.filmYears.map((e) => e.year),\n    datasets: [\n      {\n        label: \"# of films\",\n        data: stats.filmYears.map((e) => e.sum),\n        pointBackgroundColor: palette(\"tol-sq\", stats.filmYears.length).map(\n          (hex: string) => \"#\" + hex\n        ),\n        backgroundColor: \"grey\",\n      },\n    ],\n  },\n  options: {\n    title: {\n      text: \"Years\",\n    },\n  },\n};\n\nexport const filmGenresPerYearsConfig: Chart.ChartConfiguration = {\n  type: \"bar\",\n  data: {\n    labels: stats.filmYears.map((e) => e.year),\n    datasets: stats.filmGenres.map((filmGenre, genreIndex) => ({\n      label: filmGenre.name,\n      data: stats.filmYears.map(\n        (filmYear) =>\n          filmYear.genres[\n            filmYear.genres.findIndex((e) => e.name === filmGenre.name)\n          ].sum\n      ),\n      backgroundColor: palette(\"mpn65\", stats.filmGenres.length).map(\n        (hex: string) => \"#\" + hex\n      )[genreIndex],\n    })),\n  },\n  options: {\n    title: {\n      text: \"Genres per year\",\n    },\n    tooltips: {\n      filter: (tooltipItem) => Number(tooltipItem.value) > 0,\n      intersect: false,\n      mode: \"index\",\n    },\n    scales: {\n      xAxes: [\n        {\n          stacked: true,\n        },\n      ],\n      yAxes: [\n        {\n          stacked: true,\n        },\n      ],\n    },\n  },\n};\n\n/* ***********\nTV\n*********** */\nexport const tvGenresConfig: Chart.ChartConfiguration = {\n  type: \"bar\",\n  data: {\n    labels: stats.tvGenres.map((e) => e.name),\n    datasets: [\n      {\n        label: \"# of series\",\n        data: stats.tvGenres.map((e) => e.sum),\n        backgroundColor: palette(\"tol-rainbow\", stats.tvGenres.length).map(\n          (hex: string) => \"#\" + hex\n        ),\n      },\n    ],\n  },\n  options: {\n    title: {\n      text: \"Genres\",\n    },\n  },\n};\n\nexport const tvYearsConfig: Chart.ChartConfiguration = {\n  type: \"line\",\n  data: {\n    labels: stats.tvYears.map((e) => e.year),\n    datasets: [\n      {\n        label: \"# of series\",\n        data: stats.tvYears.map((e) => e.sum),\n        pointBackgroundColor: palette(\"tol-sq\", stats.tvYears.length).map(\n          (hex: string) => \"#\" + hex\n        ),\n        backgroundColor: \"grey\",\n      },\n    ],\n  },\n  options: {\n    title: {\n      text: \"Years\",\n    },\n  },\n};\n\nexport const tvGenresPerYearsConfig: Chart.ChartConfiguration = {\n  type: \"bar\",\n  data: {\n    labels: stats.tvYears.map((e) => e.year),\n    datasets: stats.tvGenres.map((tvGenre, genreIndex) => ({\n      label: tvGenre.name,\n      data: stats.tvYears.map(\n        (tvYear) =>\n          tvYear.genres[tvYear.genres.findIndex((e) => e.name === tvGenre.name)]\n            .sum\n      ),\n      backgroundColor: palette(\"mpn65\", stats.tvGenres.length).map(\n        (hex: string) => \"#\" + hex\n      )[genreIndex],\n    })),\n  },\n  options: {\n    title: {\n      text: \"Genres per year\",\n    },\n    tooltips: {\n      filter: (tooltipItem) => Number(tooltipItem.value) > 0,\n      intersect: false,\n      mode: \"index\",\n    },\n    scales: {\n      xAxes: [\n        {\n          stacked: true,\n        },\n      ],\n      yAxes: [\n        {\n          stacked: true,\n        },\n      ],\n    },\n  },\n};\n\n/* ***********\nGAME\n*********** */\nexport const gameGenresConfig: Chart.ChartConfiguration = {\n  type: \"doughnut\",\n  data: {\n    labels: stats.gameGenres.map((e) => e.name),\n    datasets: [\n      {\n        label: \"# of games\",\n        data: stats.gameGenres.map((e) => e.sum),\n        backgroundColor: palette(\"tol-rainbow\", stats.gameGenres.length).map(\n          (hex: string) => \"#\" + hex\n        ),\n      },\n    ],\n  },\n  options: {\n    title: {\n      text: \"Genres\",\n    },\n  },\n};\n\nexport const gameYearsConfig: Chart.ChartConfiguration = {\n  type: \"line\",\n  data: {\n    labels: stats.gameYears.map((e) => e.year),\n    datasets: [\n      {\n        label: \"# of games\",\n        data: stats.gameYears.map((e) => e.sum),\n        pointBackgroundColor: palette(\"tol-sq\", stats.gameYears.length).map(\n          (hex: string) => \"#\" + hex\n        ),\n        backgroundColor: \"grey\",\n      },\n    ],\n  },\n  options: {\n    title: {\n      text: \"Years\",\n    },\n  },\n};\n\nexport const gameGenresPerYearsConfig: Chart.ChartConfiguration = {\n  type: \"bar\",\n  data: {\n    labels: stats.gameYears.map((e) => e.year),\n    datasets: stats.gameGenres.map((gameGenre, genreIndex) => ({\n      label: gameGenre.name,\n      data: stats.gameYears.map(\n        (gameYear) =>\n          gameYear.genres[\n            gameYear.genres.findIndex((e) => e.name === gameGenre.name)\n          ].sum\n      ),\n      backgroundColor: palette(\"mpn65\", stats.gameGenres.length).map(\n        (hex: string) => \"#\" + hex\n      )[genreIndex],\n    })),\n  },\n  options: {\n    title: {\n      text: \"Genres per year\",\n    },\n    tooltips: {\n      filter: (tooltipItem) => Number(tooltipItem.value) > 0,\n      intersect: false,\n      mode: \"index\",\n    },\n    scales: {\n      xAxes: [\n        {\n          stacked: true,\n        },\n      ],\n      yAxes: [\n        {\n          stacked: true,\n        },\n      ],\n    },\n  },\n};\n","import Chart from \"chart.js\";\nimport * as React from \"react\";\n\nChart.defaults.global.title!.display = true;\nChart.defaults.global.title!.fontSize = 18;\n\nexport function Infobox({\n  config,\n  large,\n}: {\n  config: Chart.ChartConfiguration;\n  large?: boolean;\n}) {\n  const canvasRef = React.useRef<HTMLCanvasElement>(null);\n  // const [chart, setChart] = React.useState<Chart | null>(null);\n\n  React.useEffect(() => {\n    if (canvasRef.current) {\n      new Chart(canvasRef.current, config);\n      // const newChart = new Chart(canvasRef.current, config);\n      // setChart(newChart);\n    }\n  }, [canvasRef, config]);\n\n  return (\n    <>\n      <div className=\"stats-infobox\">\n        <div className={large ? \"canvas-container-large\" : \"canvas-container\"}>\n          <canvas ref={canvasRef} />\n        </div>\n      </div>\n    </>\n  );\n}\n","import * as React from \"react\";\nimport \"../../styles/color.css\";\nimport {\n  filmGenresConfig,\n  filmGenresPerYearsConfig,\n  filmYearsConfig,\n} from \"./config\";\nimport { Infobox } from \"./Infobox\";\nimport \"./Stats.css\";\n\nexport default function StatsFilms() {\n  document.title = \"Film Stats - MediaSheetViewer\";\n\n  return (\n    <>\n      <div className=\"stats\">\n        <div className=\"stats-head\">\n          <h2 className=\"stats-title\">Stats - Films</h2>\n        </div>\n        <div className=\"stats-body\">\n          <Infobox config={filmGenresPerYearsConfig} large />\n          <Infobox config={filmGenresConfig} />\n          <Infobox config={filmYearsConfig} />\n        </div>\n      </div>\n    </>\n  );\n}\n"],"sourceRoot":""}