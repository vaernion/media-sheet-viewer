{"version":3,"sources":["components/TvList/TvListItem.tsx","components/TvList/index.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","components/SearchForm/index.tsx","hooks/useDebounceEffect.ts","utils/filters.ts","components/FieldHeader/index.tsx"],"names":["TvListItem","React","TvListItemRaw","props","tv","data","setSearchField","className","to","id","name","onClick","seasons","yearStart","length","yearEnd","creator","map","i","genre","TvList","dispatch","DispatchContext","state","StateContext","filterTv","searchField","document","title","mediaSheet","type","payload","handleSort","field","sortTv","tvSortedLocal","tvSorted","sortReverseTv","tvFiltered","SearchForm","value","setValue","placeholder","FieldHeader","label","width","primary","sort","sortBy","isSortReverse","onclick","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","_createForOfIteratorHelper","o","allowArrayLike","it","F","s","n","done","e","_e","f","err","normalCompletion","didErr","step","next","_e2","setState","callback","delay","dependencies","memoized","useCallback","useEffect","debounce","setTimeout","clearTimeout","useDebounceEffect","htmlFor","onChange","event","currentTarget","filterFilms","films","filterRaw","filter","normalize","startsWith","film","findIndex","includes","replace","year","toString","director","franchise","translatedTitle","tvs","search","Number","filterGames","sortedGames","game","completed","developer","system","active","arrow","style","tabIndex"],"mappings":"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","file":"static/js/6.0616ed3b.chunk.js","sourcesContent":["import * as React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Television } from \"../../classes/Television\";\n\nexport const TvListItem = React.memo(TvListItemRaw);\n\ntype Props = {\n  data: Television;\n  setSearchField: (field: string) => void;\n};\n\nfunction TvListItemRaw(props: Props) {\n  const tv = props.data;\n  const setSearchField = props.setSearchField;\n\n  return (\n    <>\n      <div className=\"list-items unvirtualized\">\n        <span className=\"tv-title\">\n          <Link to={`/tv/${tv.id}`}>{tv.name}</Link> (\n          <span\n            className=\"tv-year on-click\"\n            onClick={() => setSearchField(\"ys:\" + tv.seasons[0].yearStart)}\n          >\n            {tv.seasons[0].yearStart}\n          </span>\n          -\n          <span\n            className=\"tv-year on-click\"\n            onClick={() =>\n              setSearchField(\"ye:\" + tv.seasons[tv.seasons.length - 1].yearEnd)\n            }\n          >\n            {tv.seasons[tv.seasons.length - 1].yearEnd}\n          </span>\n          )\n        </span>\n        <span className=\"tv-creator\">\n          {tv.creator.map((name, i) => (\n            <span key={name}>\n              <span>{i > 0 ? \" & \" : null}</span>\n              <Link to={`/creators/${name}`}>{name}</Link>\n            </span>\n          ))}\n        </span>\n        <span className=\"tv-genre\">\n          {tv.genre.map((name, i) => (\n            <span key={name}>\n              <span>{i > 0 ? \" / \" : null}</span>\n              <span\n                key={name}\n                className=\"genre-name on-click\"\n                onClick={() => setSearchField(\"g:\" + name)}\n              >\n                {name}\n              </span>\n            </span>\n          ))}\n        </span>\n      </div>\n    </>\n  );\n}\n","import * as React from \"react\";\nimport \"../../styles/lists.css\";\nimport { filterTv } from \"../../utils/filters\";\nimport { FieldHeader } from \"../FieldHeader\";\nimport { SearchForm } from \"../SearchForm\";\nimport { DispatchContext, StateContext } from \"../Store\";\nimport { mediaSheet } from \"../Store/mediaSheet\";\nimport { TvListItem } from \"./TvListItem\";\n\nexport default function TvList() {\n  const dispatch = React.useContext(DispatchContext);\n  const state = React.useContext(StateContext);\n  const [searchField, setSearchField] = React.useState(state.filterTv);\n\n  document.title = `${mediaSheet.tv.length} TV series - MediaSheetViewer`;\n\n  // persist filter\n  React.useEffect(() => {\n    dispatch({ type: \"FILTER_TV\", payload: searchField });\n  }, [searchField, dispatch]);\n\n  const handleSort = (field: string) => {\n    if (field === state.sortTv) {\n      dispatch({ type: \"SORT_REVERSE_TV\" });\n    } else {\n      dispatch({ type: \"SORT_TV\", payload: field });\n    }\n  };\n\n  const tvSortedLocal =\n    mediaSheet.tvSorted[state.sortTv + (state.sortReverseTv ? \"Desc\" : \"Asc\")];\n  const tvFiltered = filterTv(tvSortedLocal, searchField);\n\n  return (\n    <>\n      <div className=\"tvs\">\n        <div className=\"tvs-head\">\n          <SearchForm\n            value={searchField}\n            setValue={setSearchField}\n            placeholder=\"wire | david simon | g:sci-fi | (y|ys|ye):2005\"\n          />\n          <div className=\"headers\">\n            <FieldHeader\n              field=\"sortTitle\"\n              label=\"Title\"\n              width=\"10%\"\n              primary\n              sort={{\n                sortBy: state.sortTv,\n                isSortReverse: state.sortReverseTv,\n              }}\n              onclick={handleSort}\n            />\n            <FieldHeader\n              field=\"yearStart\"\n              label=\"Start\"\n              width=\"10%\"\n              sort={{\n                sortBy: state.sortTv,\n                isSortReverse: state.sortReverseTv,\n              }}\n              onclick={handleSort}\n            />\n            <FieldHeader\n              field=\"yearEnd\"\n              label=\"End\"\n              width=\"10%\"\n              sort={{\n                sortBy: state.sortTv,\n                isSortReverse: state.sortReverseTv,\n              }}\n              onclick={handleSort}\n            />\n            <FieldHeader\n              field=\"creator\"\n              label=\"Creator\"\n              width=\"35%\"\n              sort={{\n                sortBy: state.sortTv,\n                isSortReverse: state.sortReverseTv,\n              }}\n              onclick={handleSort}\n            />\n            <FieldHeader\n              field=\"genre\"\n              label=\"Genre\"\n              width=\"35%\"\n              sort={{\n                sortBy: state.sortTv,\n                isSortReverse: state.sortReverseTv,\n              }}\n            />\n          </div>\n        </div>\n        <div className=\"tvs-body\">\n          {tvFiltered.map((tv, i) => (\n            <TvListItem key={tv.id} data={tv} setSearchField={setSearchField} />\n          ))}\n        </div>\n      </div>\n    </>\n  );\n}\n","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import * as React from \"react\";\nimport { useDebounceEffect } from \"../../hooks/useDebounceEffect\";\nimport \"./searchForm.css\";\n\ntype Props = {\n  value: string;\n  setValue: (string: string) => void;\n  placeholder: string;\n};\n\n/**\n * Input with onchange and two way handlers to allow\n * parent component to update the value\n * or SearchForm to debounce a setState callback to parent\n * @link https://stackoverflow.com/a/61127960\n * @export\n * @param {*} value Initial value\n * @param {function} delay Milliseconds\n * @param {*[]} dependencies\n */\nexport function SearchForm({ value, setValue, placeholder }: Props) {\n  const [state, setState] = React.useState(value);\n\n  // new value passed by parent\n  React.useEffect(() => {\n    setState(value);\n  }, [value]);\n\n  // debounced callback to parent\n  useDebounceEffect(\n    () => {\n      setValue(state);\n    },\n    500,\n    [state]\n  );\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setState(event.currentTarget.value);\n  };\n\n  const handleClear = () => {\n    setState(\"\");\n  };\n\n  return (\n    <>\n      <div className=\"searchform\">\n        <label className=\"input-label\" htmlFor=\"searchFormInput\">\n          Filter:\n        </label>\n        <input\n          type=\"text\"\n          id=\"searchFormInput\"\n          placeholder={placeholder}\n          value={state}\n          onChange={handleChange}\n        />\n        <button onClick={handleClear}>Clear</button>\n      </div>\n    </>\n  );\n}\n","import { useCallback, useEffect } from \"react\";\n\n/**\n * Fire callback if dependencies change\n * and then stay unchanged for duration of delay.\n * @link https://stackoverflow.com/a/61127960\n * @export\n * @param {function():void} callback\n * @param {number} delay Milliseconds\n * @param {*[]} dependencies\n */\nexport function useDebounceEffect(\n  callback: () => void,\n  delay: number,\n  dependencies: any[]\n): void {\n  const memoized = useCallback(callback, [...dependencies, callback]);\n\n  useEffect(() => {\n    const debounce = setTimeout(() => memoized(), delay);\n\n    return () => clearTimeout(debounce);\n  }, [memoized, delay]);\n}\n","import { Film } from \"../classes/Film\";\nimport { Game } from \"../classes/Game\";\nimport { Television } from \"../classes/Television\";\nimport { normalize } from \"./utilities\";\n\nexport const filterFilms = (films: Film[], filterRaw: string): Film[] => {\n  const filter = normalize(filterRaw);\n\n  if (filter.startsWith(\"g:\")) {\n    return films.filter(\n      (film) =>\n        film.genre.findIndex((genre) =>\n          normalize(genre).includes(filter.replace(\"g:\", \"\"))\n        ) !== -1\n    );\n  } else if (filter.startsWith(\"y:\")) {\n    return films.filter(\n      (film) => film.year.toString() === filter.replace(\"y:\", \"\")\n    );\n  } else {\n    return films.filter(\n      (film) =>\n        normalize(film.name).includes(filter) ||\n        film.creator.findIndex((director) =>\n          normalize(director).includes(filter)\n        ) !== -1 ||\n        normalize(film.franchise).includes(filter) ||\n        normalize(film.translatedTitle).includes(filter)\n    );\n  }\n};\n\nexport const filterTv = (\n  tvs: Television[],\n  filterRaw: string\n): Television[] => {\n  const filter = normalize(filterRaw);\n\n  if (filter.startsWith(\"g:\")) {\n    return tvs.filter(\n      (tv) =>\n        tv.genre.findIndex((genre) =>\n          normalize(genre).includes(filter.replace(\"g:\", \"\"))\n        ) !== -1\n    );\n  } else if (filter.startsWith(\"y:\")) {\n    return tvs.filter((tv) => {\n      const search = Number(filter.replace(\"y:\", \"\"));\n      return (\n        tv.seasons[0].yearStart <= search &&\n        tv.seasons[tv.seasons.length - 1].yearEnd >= search\n      );\n    });\n  } else if (filter.startsWith(\"ys:\")) {\n    return tvs.filter(\n      (tv) => tv.seasons[0].yearStart.toString() === filter.replace(\"ys:\", \"\")\n    );\n  } else if (filter.startsWith(\"ye:\")) {\n    return tvs.filter(\n      (tv) =>\n        tv.seasons[tv.seasons.length - 1].yearEnd.toString() ===\n        filter.replace(\"ye:\", \"\")\n    );\n  } else {\n    return tvs.filter(\n      (tv) =>\n        normalize(tv.name).includes(filter) ||\n        tv.creator.findIndex((creator) =>\n          normalize(creator).includes(filter)\n        ) !== -1\n    );\n  }\n};\n\nexport const filterGames = (sortedGames: Game[], filterRaw: string): Game[] => {\n  const filter = normalize(filterRaw);\n\n  if (filter.startsWith(\"g:\")) {\n    return sortedGames.filter(\n      (game) =>\n        game.genre.findIndex((genre) =>\n          normalize(genre).includes(filter.replace(\"g:\", \"\"))\n        ) !== -1\n    );\n  } else if (filter.startsWith(\"y:\")) {\n    return sortedGames.filter(\n      (game) => game.year.toString() === filter.replace(\"y:\", \"\")\n    );\n  } else if (filter.startsWith(\"c:\")) {\n    return sortedGames.filter((game) =>\n      normalize(game.completed).includes(filter.replace(\"c:\", \"\"))\n    );\n  } else {\n    return sortedGames.filter(\n      (game) =>\n        normalize(game.name).includes(filter) ||\n        game.creator.findIndex((developer) =>\n          normalize(developer).includes(filter)\n        ) !== -1 ||\n        normalize(game.completed).includes(filter) ||\n        normalize(game.system).includes(filter)\n    );\n  }\n};\n","import * as React from \"react\";\nimport \"./FieldHeader.css\";\n\ntype Props = {\n  field: string;\n  label: string;\n  width: string;\n  primary?: boolean;\n  sort: { sortBy: string; isSortReverse: boolean };\n  onclick?: (field: Props[\"field\"]) => void;\n};\n\nexport function FieldHeader(props: Props) {\n  const active = props.sort.sortBy === props.field ? true : false;\n  const arrow = active ? (props.sort.isSortReverse ? \"↑\" : \"↓\") : null;\n\n  const handleClick = () => {\n    if (!props.onclick) return;\n    props.onclick(props.field);\n  };\n\n  return (\n    <>\n      <span\n        className={\"fheader-outer\" + (props.primary ? \" primary\" : \"\")}\n        style={{ width: props.width }}\n      >\n        <span\n          tabIndex={0}\n          className={\n            \"fheader\" +\n            (active ? \" active\" : \"\") +\n            (!props.onclick ? \" no-click\" : \"\")\n          }\n          onClick={handleClick}\n        >\n          {props.label} {arrow}\n        </span>\n      </span>\n    </>\n  );\n}\n"],"sourceRoot":""}